{% extends "base.html" %}
{% load static from staticfiles %}
{% block title %}主页{% endblock %}
{% block head %}
    <script src="{% static "js/echarts.min.js" %}"></script>
    <script src="{% static "js/beijing.js" %}"></script>
    <script src="{% static "js/accident.js" %}"></script>

{% endblock %}
{% block content %}
	<div id="allmap2">

    </div>
{% endblock %}
{% block endscript %}
<script type="text/javascript">

	// 百度地图API功能
{#	var map = new BMap.Map("allmap");#}
{#	map.centerAndZoom(new BMap.Point(116.404, 39.915), 12);     // 初始化地图,设置中心点坐标和地图级别#}
{#    map.enableScrollWheelZoom();                        //启用滚轮放大缩小#}
{#    var top_left_control = new BMap.ScaleControl({anchor: BMAP_ANCHOR_BOTTOM_LEFT});// 左上角，添加比例尺#}
{#	var top_left_navigation = new BMap.NavigationControl({anchor: BMAP_ANCHOR_BOTTOM_LEFT});  //左上角，添加默认缩放平移控件#}
{#    map.addControl(top_left_control);#}
{#    map.addControl(top_left_navigation);#}
{#    map.enableKeyboard();#}

</script>
<script>
var chart = echarts.init(document.getElementById('allmap2'));
chart.setOption(option = {
    backgroundColor: '#ffffff',
    geo: {
        map: '北京',
        label: {
            emphasis: {
                show: false
            }
        },
        itemStyle: {
            normal: {
                areaColor: '#cccccc',
                borderColor: '#111'
            },
            emphasis: {
                areaColor: '#2a333d'
            }
        },
        center: [116.404, 39.915],
        zoom : 1,
        roam :true
    },
    series: [
{#        {#}
{#            name: 'APP交通事故',#}
{#            type: 'scatter',#}
{#            coordinateSystem: 'geo',#}
{#            symbolSize: 1,#}
{#            large: true,#}
{#            itemStyle: {#}
{#                normal: {#}
{#                    shadowBlur: 2,#}
{#                    shadowColor: 'rgba(255, 255, 255, 0.8)',#}
{#                    color: 'rgba(255, 255, 255, 0.8)'#}
{#                }#}
{#            },#}
{#            data: app_accident#}
{#        },{#}{
        name: '交通事故',
            type: 'scatter',
            coordinateSystem: 'geo',
            symbolSize: 2,
            large: true,
            itemStyle: {
                normal: {
                    shadowBlur: 1,
                    shadowColor: 'rgba(255, 50, 50, 0.8)',
                    color: 'rgba(255, 0, 0, 0.8)'
                }
            },
            data: accident
        }]
});
</script>

{% endblock %}