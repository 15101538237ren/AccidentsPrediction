{% extends "base.html" %}
{% load static from staticfiles %}
{% block title %}主页{% endblock %}
{% block head %}
    <script type="text/javascript">
        var district_ids = new Array();
        {% for district_id in district_ids %}
            district_ids.push({{ district_id }});
        {% endfor %}
    </script>
{% endblock %}
{% block content %}
    <div class="container">

    </div>
	<div id="allmap">

    </div>
{% endblock %}
{% block endscript %}
<script type="text/javascript">

	// 百度地图API功能
	var map = new BMap.Map("allmap");
	map.centerAndZoom(new BMap.Point(116.404, 39.915), 11);     // 初始化地图,设置中心点坐标和地图级别
    map.enableScrollWheelZoom();                        //启用滚轮放大缩小
    var top_left_control = new BMap.ScaleControl({anchor: BMAP_ANCHOR_BOTTOM_LEFT});// 左上角，添加比例尺
	var top_left_navigation = new BMap.NavigationControl({anchor: BMAP_ANCHOR_BOTTOM_LEFT});  //左上角，添加默认缩放平移控件
    map.addControl(top_left_control);
    map.addControl(top_left_navigation);
    map.enableKeyboard();


	var rectangle = new BMap.Polygon([
		new BMap.Point({{ min_lng }},{{ min_lat }}),
		new BMap.Point({{ max_lng }},{{ min_lat }}),
		new BMap.Point({{ max_lng }},{{ max_lat }}),
		new BMap.Point({{ min_lng }},{{ max_lat }})
	], {strokeColor:"red", strokeWeight:2, strokeOpacity:1,fillColor:''});  //创建矩形
    map.addOverlay(rectangle);
</script>
{% endblock %}
